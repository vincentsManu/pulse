CREATE TYPE GENDER AS ENUM ('male', 'female');

CREATE TYPE FEEDBACK AS ENUM ('happy');

CREATE TABLE IF NOT EXISTS health_data
(
    user_session_id uuid,
    user_gender GENDER NOT NULL,
    user_weight DOUBLE PRECISION NOT NULL DEFAULT 0,
    user_height DOUBLE PRECISION NOT NULL DEFAULT 0,
    user_sys INTEGER NOT NULL DEFAULT 0,
    user_dia INTEGER NOT NULL DEFAULT 0,
    user_pulse INTEGER NOT NULL DEFAULT 0,
    spo2 INTEGER NOT NULL DEFAULT 0,
    sugar INTEGER NOT NULL DEFAULT 0,
    fvc1 DOUBLE PRECISION NOT NULL DEFAULT 0,
    fvc2 DOUBLE PRECISION NOT NULL DEFAULT 0,
    fev1 DOUBLE PRECISION NOT NULL DEFAULT 0,
    fev2 DOUBLE PRECISION NOT NULL DEFAULT 0,
    kiosk_location TEXT NOT NULL DEFAULT '',
    invoice_number TEXT NOT NULL DEFAULT '',
    report_fee INTEGER NOT NULL DEFAULT 0,
    report_date DATE NOT NULL DEFAULT CURRENT_DATE,
    feedback FEEDBACK NOT NULL,
    age INTEGER NOT NULL DEFAULT 0,
    health_data_status BOOLEAN NOT NULL DEFAULT FALSE,
    insurance BOOLEAN NOT NULL DEFAULT FALSE,
    bmc DOUBLE PRECISION NOT NULL DEFAULT 0,
    bmi DOUBLE PRECISION NOT NULL DEFAULT 0,
    mineral DOUBLE PRECISION NOT NULL DEFAULT 0,
    bfm DOUBLE PRECISION NOT NULL DEFAULT 0,
    bcm DOUBLE PRECISION NOT NULL DEFAULT 0,
    protein DOUBLE PRECISION NOT NULL DEFAULT 0,
    smm DOUBLE PRECISION NOT NULL DEFAULT 0,
    icw DOUBLE PRECISION NOT NULL DEFAULT 0,
    ecw DOUBLE PRECISION NOT NULL DEFAULT 0,
    vfa DOUBLE PRECISION NOT NULL DEFAULT 0,
    whr DOUBLE PRECISION NOT NULL DEFAULT 0,
    pbf DOUBLE PRECISION NOT NULL DEFAULT 0,
    bwa DOUBLE PRECISION NOT NULL DEFAULT 0,
    bmr DOUBLE PRECISION NOT NULL DEFAULT 0,
    dci DOUBLE PRECISION NOT NULL DEFAULT 0,
    ideal_weight DOUBLE PRECISION NOT NULL DEFAULT 0,
    ideal_pbf INTEGER NOT NULL DEFAULT 0,
    smm_percentage DOUBLE PRECISION NOT NULL DEFAULT 0,
    lbm_percentage DOUBLE PRECISION NOT NULL DEFAULT 0,
    ideal_protein DOUBLE PRECISION NOT NULL DEFAULT 0,
    ideal_icw DOUBLE PRECISION NOT NULL DEFAULT 0,
    ideal_ecw DOUBLE PRECISION NOT NULL DEFAULT 0,
    min_smm INTEGER NOT NULL DEFAULT 0,
    max_smm INTEGER NOT NULL DEFAULT 0,
    ideal_smm INTEGER NOT NULL DEFAULT 0,
    pulse_score DOUBLE PRECISION NOT NULL DEFAULT 0,
    weightlower INTEGER NOT NULL DEFAULT 0,
    weighthigher INTEGER NOT NULL DEFAULT 0,
    icllower DOUBLE PRECISION NOT NULL DEFAULT 0,
    iclhigher DOUBLE PRECISION NOT NULL DEFAULT 0,
    ecllower DOUBLE PRECISION NOT NULL DEFAULT 0,
    eclhigher DOUBLE PRECISION NOT NULL DEFAULT 0,
    fatlower DOUBLE PRECISION NOT NULL DEFAULT 0,
    fathigher DOUBLE PRECISION NOT NULL DEFAULT 0,
    bmclower DOUBLE PRECISION NOT NULL DEFAULT 0,
    proteinlower DOUBLE PRECISION NOT NULL DEFAULT 0,
    proteinhigher DOUBLE PRECISION NOT NULL DEFAULT 0,
    bmchigher DOUBLE PRECISION NOT NULL DEFAULT 0,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    CONSTRAINT health_data_pk PRIMARY KEY(user_session_id),
    CONSTRAINT health_data_us_fk FOREIGN KEY (user_session_id) REFERENCES user_session(id)
);